[PrefixDeclaration]
ms:		http://www.semanticweb.org/ontologies/2018/4/mimic/
icd:		http://purl.bioontology.org/ontology/HOM-ICD9CM/
owl:		http://www.w3.org/2002/07/owl#
rdf:		http://www.w3.org/1999/02/22-rdf-syntax-ns#
xml:		http://www.w3.org/XML/1998/namespace
xsd:		http://www.w3.org/2001/XMLSchema#
obda:		https://w3id.org/obda/vocabulary#
rdfs:		http://www.w3.org/2000/01/rdf-schema#
onprom:		http://kaos.inf.unibz.it/onprom/

[MappingDeclaration] @collection [[
mappingId	urn:Map-Adult
target		ms:Patient/{subject_id} a ms:Adult .
source		SELECT "patients"."subject_id" FROM "public"."icustays", "public"."patients" WHERE "icustays"."subject_id" = "patients"."subject_id" AND ("icustays"."intime" - interval '18' YEAR) > "patients"."dob"

mappingId   urn:Map-PatientOlderThan15
target		ms:Patient/{subject_id} a ms:PatientOlderThan15 .
source		SELECT "patients"."subject_id" FROM "public"."icustays", "public"."patients" WHERE "icustays"."subject_id" = "patients"."subject_id" AND ("icustays"."intime" - interval '15' YEAR) > "patients"."dob"

mappingId	urn:Map-Sepsis
target		icd:995.91/{subject_id} a icd:995.91 .
source		SELECT "diagnoses_icd"."subject_id" FROM "public"."diagnoses_icd" WHERE "diagnoses_icd"."icd9_code" = '99591'

mappingId	urn:Map-Peripheral-Vascular-Disorder
target		icd:443.9/{subject_id} a icd:443.9 .
source		SELECT "diagnoses_icd"."subject_id" FROM "public"."diagnoses_icd" WHERE "diagnoses_icd"."icd9_code" between '4400 ' and '4409 ' OR "diagnoses_icd"."icd9_code"  between '4420 ' and '4429 ' OR "diagnoses_icd"."icd9_code" between '4431 ' and '4439 '
            OR "diagnoses_icd"."icd9_code" between '44421' and '44422' OR "diagnoses_icd"."icd9_code" IN ('4471 ', '449  ', '5571 ', '5579 ', 'V434 ')

mappingId	urn:Map-Diabetes
target		icd:250/{subject_id} a icd:250 .
source		SELECT "diagnoses_icd"."subject_id" FROM "public"."diagnoses_icd"
            WHERE "diagnoses_icd"."icd9_code" between '25000' and '25033'
            OR "diagnoses_icd"."icd9_code" between '64800' and '64804'
            OR "diagnoses_icd"."icd9_code" between '24900' and '24931'
            OR "diagnoses_icd"."icd9_code" between '25040' and '25093'
            OR "diagnoses_icd"."icd9_code" between '24940' and '24991'
            OR "diagnoses_icd"."icd9_code" = '7751 '
]]